<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <title><%= pageTitle %></title>
  </head>
  <body>
    <div class="container-lg p-5">
      <h1 class="mb-0">Test Form</h1>
      <p class="fs-6 fst-italic">utilizing dev containers, docker, node and mongoDB</p>

      <form action="/dockerdata" method="post" class="row g-3 needs-validation" novalidate>
        
        <div class="col-md-6">
          <label class="form-label" for="firstname">First Name</label>
          <input
            class="form-control"
            type="text"
            name="firstname"
            id="firstname"
            required
          />
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter your first name.
          </div>
        </div>

        <div class="col-md-6">
          <label class="form-label" for="lastname">Last Name</label>
          <input
            class="form-control"
            type="text"
            name="lastname"
            id="lastname"
            required
          />
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter your lastname.
          </div>
        </div>
      
        <div class="col-md-12">
          <label class="form-label" for="email">Email</label>
          <input class="form-control" type="email" name="email" id="email" required />
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter your email.
          </div>
        </div>

        <div class="col-md-6">
          <label class="form-label" for="hobbies">Hobbies</label>
          <input
            class="form-control"
            type="text"
            name="hobbies"
            id="hobbies"
            required
          />
          <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please enter your hobbies.
          </div>
        </div>

        <div class="d-grid">
          <button class="btn btn-primary" type="submit">Save</button>
        </div>
      </form>
    </div>


    <div class="container-lg p-5">
    <% if (findR) { %>
      <ul class="list-group list-group-flush">
      <% for (let i=0; i < findR.length; i++ ) { %>
        <li class="list-group-item">
          <h6 class="mb-0 fw-bold"><%= findR[i].firstname %> <%= findR[i].lastname %></h6>
          <p class="mb-0"><%= findR[i].hobbies %></p>
        </li>
      <% } %>
      </ul>
    <% } %>
    </div>

    <script defer>
      // Example starter JavaScript for disabling form submissions if there are invalid fields
      (() => {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.from(forms).forEach(form => {
          form.addEventListener('submit', event => {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
            }

            form.classList.add('was-validated')
          }, false)
        })
      })()
    </script>

  </body>
</html>